(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/playMusic/playMusic"],{"5c0a":function(i,t,s){"use strict";s.r(t);var u=s("a480"),c=s("e50d");for(var n in c)"default"!==n&&function(i){s.d(t,i,(function(){return c[i]}))}(n);s("beff");var a,e=s("f0c5"),o=Object(e["a"])(c["default"],u["b"],u["c"],!1,null,"b4463822",null,!1,u["a"],a);t["default"]=o.exports},"5f7a":function(i,t,s){},"9c98":function(i,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u={data:function(){return{musicBg:null,musicName:{},musicUrl:null,musicAuthor:{},flag:!0,likeMusicList:[],isPlayMusic:!1,musicPlay:"paused",backMusicCount:0}},onReady:function(i){this.audioCtx=wx.createAudioContext("myAudio"),this.musicBg=wx.createAudioContext("myMusic")},methods:{showDrawer:function(){this.$refs.showRight.open()},playBtn:function(){this.isPlayMusic?(console.log("点击暂停按钮"),this.isPlayMusic=!1,this.audioCtx.pause(),this.musicPlay="paused"):(this.isPlayMusic=!0,console.log("点击播放按钮"),this.audioCtx.play(),this.musicPlay="running")},showState:function(){wx.showToast({title:"当前只支持随机模式"})},toggleMusic:function(i){this.musicBg=i.img,this.musicUrl=i.url,this.musicName=i.name,this.musicAuthor=i.author,this.musicPlay="paused",this.$refs.showRight.close()},backMusic:function(){this.likeMusicList.length<=1?wx.showToast({title:"没有更多歌曲"}):(this.backMusicCount+=1,this.likeMusicList.length>this.backMusicCount?(this.musicBg=this.likeMusicList[this.backMusicCount].img,this.musicUrl=this.likeMusicList[this.backMusicCount].url,this.musicName=this.likeMusicList[this.backMusicCount].name,this.musicAuthor=this.likeMusicList[this.backMusicCount].author,this.musicPlay="paused",this.isPlayMusic=!1):wx.showToast({title:"没有更多歌曲"}))},taggerMusic:function(){this.backMusicCount=0,console.log(this.likeMusicList),this.flag?(this.isPlayMusic=!1,this.flag=!1,console.log("点击了切换音乐"),this.getMusic(),this.musicPlay="paused"):wx.showToast({title:"切换歌曲过快"})},showImg:function(){this.flag=!0},getMusic:function(){var i=this;wx.request({url:"https://api.uomg.com/api/rand.music",data:{sort:"热歌榜",format:"json"},success:function(t){1===t.data.code&&(i.musicBg=t.data.data.picurl,i.musicUrl=t.data.data.url,i.musicName=t.data.data.name,i.musicAuthor=t.data.data.artistsname,i.likeMusicList.unshift({name:i.musicName,img:i.musicBg,url:i.musicUrl,author:i.musicAuthor}))}})}},created:function(){this.getMusic()}};t.default=u},a480:function(i,t,s){"use strict";s.d(t,"b",(function(){return c})),s.d(t,"c",(function(){return n})),s.d(t,"a",(function(){return u}));var u={uniIcons:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(s.bind(null,"1cc2"))},uniDrawer:function(){return s.e("uni_modules/uni-drawer/components/uni-drawer/uni-drawer").then(s.bind(null,"c454"))}},c=function(){var i=this,t=i.$createElement;i._self._c},n=[]},add9:function(i,t,s){"use strict";(function(i){s("807e");u(s("66fd"));var t=u(s("5c0a"));function u(i){return i&&i.__esModule?i:{default:i}}wx.__webpack_require_UNI_MP_PLUGIN__=s,i(t.default)}).call(this,s("543d")["createPage"])},beff:function(i,t,s){"use strict";var u=s("5f7a"),c=s.n(u);c.a},e50d:function(i,t,s){"use strict";s.r(t);var u=s("9c98"),c=s.n(u);for(var n in u)"default"!==n&&function(i){s.d(t,i,(function(){return u[i]}))}(n);t["default"]=c.a}},[["add9","common/runtime","common/vendor"]]]);